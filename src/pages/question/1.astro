---
import QuestionLayout from '../../layouts/QuestionLayout.astro';
import CreativeQuestion, { type Option } from '../../components/Notificacion';

const options: Option[] = [
  { id: 'skater',    text: 'Voy al grano, sin rodeos y siempre en movimiento',      img: '/assets/Grano_sin_rodeos.png'  },
  { id: 'parapente', text: 'Soy veloz, preciso y me gusta tener todo bajo control',   img: '/assets/Veloz_preciso.png'     },
  { id: 'ritmo',     text: 'Sigo mi propio ritmo y no me gusta que me digan cómo vivir la aventura', img: '/assets/Propio_ritmo.png' },
  { id: 'terreno',   text: 'Me gusta sentir que tengo el poder en mis manos y dominar cada terreno', img: '/assets/Poder_dominar.png' },
  { id: 'ciudad',    text: 'Soy ágil, moderno y me gusta moverme con flow por la ciudad', img: '/assets/Agil_moderno.png'  },
];
---
<QuestionLayout title={`¿Qué tipo de <span class="text-red-600">aventurero</span><br>eres?`}>
  <form id="form-q1" action="/question/2" method="get" class="w-full flex flex-col gap-8 px-5">
    <CreativeQuestion client:load fieldName="q1" {options} nextUrl="/question/2" />
  </form>
</QuestionLayout>

<!-- Script que guarda en sessionStorage antes del submit -->
<script>
  const formQ1 = document.getElementById('form-q1');
  formQ1.addEventListener('submit', () => {
    const fd = new FormData(formQ1);
    sessionStorage.setItem('q1', fd.get('q1') || '');
  });
</script>
