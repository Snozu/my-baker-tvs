---
import QuestionLayout from '../../layouts/QuestionLayout.astro';
import CreativeQuestion, { type Option } from '../../components/Notificacion';

const options: Option[] = [
  { id: 'romance',    text: 'Un mundo lleno de humor, música, romance y combates épicos.',      img: '/assets/Romance.png'  },
  { id: 'amistad',    text: 'Un mundo de aventura y amistad donde los sueños más locos son posibles.',   img: '/assets/Amistad.png'     },
  { id: 'supervivencia', text: 'Un entorno desafiante donde la supervivencia y los vínculos importan.', img: '/assets/Supervivencia.png' },
  { id: 'exploracion',  text: 'Un universo con criaturas fantásticas lleno de aventuras y exploración.', img: '/assets/Exploracion.png' },
  { id: 'heroe',       text: 'Un mundo vibrante donde cada persona puede ser un héroe a su manera.', img: '/assets/Heroes.png'  },
];
---
<QuestionLayout title={`¿Qué tipo de <span class="text-red-600">aventurero</span><br>eres?`}>
  <form
    id="form-q2"
    action="/question/camera"
    method="get"
    class="w-full flex flex-col gap-8 px-5"
  >
    <!-- Hidrata el componente Preact que muestra las opciones -->
    <CreativeQuestion
      client:load
      fieldName="q2"
      {options}
      nextUrl="/question/camera"
    />
  </form>
</QuestionLayout>

<script>
  // Al enviar, guardamos la respuesta en sessionStorage
  const formQ2 = document.getElementById('form-q2');
  formQ2.addEventListener('submit', () => {
    const fd = new FormData(formQ2);
    sessionStorage.setItem('q2', fd.get ('q2') || '')  ;
  });
</script>
